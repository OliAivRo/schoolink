<!-- add_grade_teacher.html.erb -->

<div class="show-classes-container">
  <div class="add-grades-header">
    <h2>Exam rating</h2>
  </div>

  <div class="add-grades-form">
    <%= form_with url: create_grades_section_path, local: true do |form| %>

      <div class="form-group">
        <%= form.label :course_id, 'Course' %>
        <%= form.collection_select :course_id, @section.courses, :id, :name, {}, { class: 'select-css' } %>
      </div>

      <div class="form-group">
        <%= form.label :exam_name, 'IntitulÃ© du test' %>
        <%= form.text_field :exam_name, id: :exam_name, name: :exam_name %>
      </div>

      <div class="form-group">
        <%= form.label :date, 'Date du test' %>
        <%= form.date_field :date, id: :date, name: :date %>
      </div>


      <table class="student-list">
        <thead>
          <tr>
            <th>Student name</th>
            <th>Grade</th>
            <th>Comment</th>
          </tr>
        </thead>
        <tbody>
          <% @section.students.each_with_index do |student, index| %>
            <tr>
              <td><%= student.first_name %> <%= student.last_name %></td>
              <td><%= form.number_field :grade, name: "grades[#{student.id}][grade]" %></td>
              <td><%= form.text_area :comment, name: "grades[#{student.id}][comment]" %></td>
            </tr>
          <% end %>
        </tbody>
      </table>

      <!-- Boutons d'action -->
      <div class="form-actions">
        <%= link_to 'Cancel', section_path(@section), class: 'btn cancel' %>
        <%= form.submit 'Save', class: 'btn save' %>
        <%= form.submit 'Submit', class: 'btn submit' %>
      </div>

    <% end %>
  </div>
</div>
